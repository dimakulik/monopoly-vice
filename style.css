:root{
  --appH: 100vh;

  /* эти переменные app.js обновит сам */
  --canvasW: 788px;
  --canvasH: 788px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background: radial-gradient(1200px 900px at 60% 20%, #3b0f66 0%, #13091f 55%, #090610 100%);
  color:#fff;
  font-family:-apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif;
  overflow:hidden;
}

#app{
  height:var(--appH);
  display:flex;
  gap:18px;
  padding:18px;
}

#playersPanel{
  width:240px;
  flex:0 0 240px;
  display:flex;
  align-items:flex-start;
}

#players{
  width:100%;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.playerCard{
  display:flex;
  gap:12px;
  align-items:center;
  padding:14px;
  border-radius:18px;
  background:rgba(15,12,22,0.55);
  border:1px solid rgba(255,255,255,0.06);
  box-shadow:0 10px 30px rgba(0,0,0,0.35);
}
.playerCard.active{
  outline:2px solid rgba(102,255,204,0.45);
}
.avatar{
  width:54px; height:54px;
  border-radius:16px;
  background: linear-gradient(135deg,#52d3ff 0%, #a855f7 60%, #ff3d6e 100%);
  box-shadow: inset 0 0 0 2px rgba(255,255,255,0.08);
}
.meta .name{
  font-weight:800;
  font-size:14px;
  line-height:1.1;
}
.meta .money{
  margin-top:6px;
  font-weight:900;
  color:#ffd35a;
}

#game{
  flex:1 1 auto;
  position:relative;
  min-width:0;
}

/* ВАЖНО: чтобы выступающие ценники НЕ обрезались */
#viewport{
  position:relative;
  width:100%;
  height:calc(var(--appH) - 36px);
  overflow:visible !important;
}

#canvas{
  position:absolute;
  left:0; top:0;
  width:var(--canvasW);
  height:var(--canvasH);
  transform-origin: top left;
  overflow:visible !important;
  touch-action:none;
}

#boardCanvas{
  display:block;
  width:var(--canvasW);
  height:var(--canvasH);
}

#debug{
  position:absolute;
  left:12px;
  bottom:12px;
  font-size:11px;
  opacity:0.55;
  background:rgba(0,0,0,0.35);
  padding:6px 8px;
  border-radius:10px;
  pointer-events:none;
}

#uiCenter{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:min(520px, 70vw);
  pointer-events:none; /* чтобы канвас ловил клики там где надо */
}

#turnCard{
  pointer-events:auto;
  background:#fff;
  color:#111;
  border-radius:10px;
  padding:14px 16px;
  box-shadow:0 18px 50px rgba(0,0,0,0.45);
  margin-bottom:12px;
}
.turnTitle{ font-weight:900; font-size:18px; }
.turnSub{ margin-top:4px; opacity:0.7; font-weight:700; font-size:12px; }

#rollBtn{
  margin-top:10px;
  border:0;
  border-radius:10px;
  padding:10px 14px;
  font-weight:900;
  background:#29d3a6;
  color:#062116;
  cursor:pointer;
}
#rollBtn:active{ transform:scale(0.99); }

#chatBox{
  pointer-events:auto;
  height:460px;
  background:rgba(10,8,14,0.82);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:14px;
  box-shadow:0 18px 50px rgba(0,0,0,0.45);
  overflow:hidden;
}

#chatLog{
  height:calc(100% - 58px);
  padding:14px;
  overflow:auto;
  font-size:13px;
  line-height:1.35;
}
.msg{ margin:6px 0; }
.msg.sys{ color:#ffd35a; font-weight:800; }
.msg.you{ color:#7fffd4; font-weight:800; }

#chatBar{
  height:58px;
  display:flex;
  gap:10px;
  padding:10px;
  border-top:1px solid rgba(255,255,255,0.06);
  background:rgba(0,0,0,0.18);
}
#chatInput{
  flex:1 1 auto;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.08);
  background:rgba(0,0,0,0.35);
  padding:12px 12px;
  color:#fff;
  outline:none;
}
#sendBtn{
  width:44px;
  border-radius:12px;
  border:0;
  background:#29d3a6;
  color:#062116;
  font-weight:900;
  cursor:pointer;
}

#diceOverlay{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  display:flex;
  gap:18px;
  z-index:10;
  pointer-events:none;
}
#diceOverlay.hidden{ display:none; }
.die{
  width:90px; height:90px;
  border-radius:18px;
  background:#fff;
  color:#111;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:54px;
  box-shadow:0 22px 60px rgba(0,0,0,0.55);
}

/* mobile tweaks */
@media (max-width: 900px){
  #app{ padding:12px; gap:12px; }
  #playersPanel{ width:200px; flex-basis:200px; }
  #uiCenter{ width:min(520px, 78vw); }
}
